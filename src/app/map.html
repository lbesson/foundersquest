<div map-lazy-load="https://maps.google.com/maps/api/js">
  <ng-map center="41,-87" zoom="3">
    <marker ng-repeat="marker in $ctrl.data | filter:{$$visible: true}"
            position="{{marker.$$position}}">
    </marker><!-- make function ?-->
  </ng-map>
</div>